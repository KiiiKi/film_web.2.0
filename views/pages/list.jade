extends ../layout

block content
  .container
    .row
      table.table.table-hover.table-borderd
        thead
          tr
            th 电影名字
            th 导演
            th 国家
            th 上映时间
            th 录入时间
            th 查看
            th 更新
            th 删除
        tbody
          each item in movies
            tr(class = 'item-id-#{item._id}')
              td #{item.title}
              td #{item.director}
              td #{item.country}
              td #{item.year}
              //td MM/DD/YYYY
              td #{moment(item.meta.updatedAt).format('MM/DD/YYYY')}
              td: a( target = '_blank', href = '/movie/#{item._id}') 查看
              //- _blank为a标签在新页面打开,self为当前网页跳转
              //- /admin/update/#{item._id}，/表示进入localhost：3000
              td: a( target = '_self', href = '/admin/update/#{item._id}') 修改
              td
                button.btn.btn-danger.del( type = 'button', data-id = '#{item._id}') 删除
                //-  data-*属性来嵌入自定义数据，使用.getAttribute("data-*")获取
                     在jq中，附加数据为$(selector).data(name,value)，返回数据为$(selector).data(name)
  script(src = '/javascripts/admin.js')
          